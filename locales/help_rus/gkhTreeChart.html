<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="../help/styles.css" type="text/css">
    <title>Родословные деревья</title>
</head>
<body>

    <h1>Родословные деревья</h1>

    <p>
        Программа умеет строить диаграммы деревьев трех видов: древо предков (древо восходящего родства) и древо потомков
        (нисходящего родства), а также совмещенное - предков и потомков. Настройки вида диаграмм осуществляются на закладке
        "<a href="gkhOptions.html#tree">Древо</a>" в окне "Настройки", которое можно вызвать через меню "Правка\Настройки...".
        Там можно настроить состав выводимой информации о персонах, а также цвета элементов древа.
    </p>

    <p>
        Для построения древа, необходимо выбрать в списке персон интересующего человека, а затем в меню "Родословная" выбрать
        пункт нужного вида древа (предков, потомков или полное). Также на панели инструментов основного окна можно нажать кнопки:
    </p>
    <ul>
        <li><img src="../help/images/iTreeAncestry.gif" alt="Древо предков">&nbsp;Древо предков</li>
        <li><img src="../help/images/iTreeDescendants.gif" alt="Древо потомко">&nbsp;Древо потомков</li>
        <li><img src="../help/images/iTreeBoth.gif" alt="Древо полное">&nbsp;Древо полное</li>
    </ul>

    <p>
        После формирования, древо можно сохранить (кнопка <img src="../help/images/iSaveImage.gif" alt="">) в любом из
        следующих форматов: доступно четыре растровых формата изображения (bmp, jpeg, png, gif) и два векторных (emf, svg).
        Растровые имеют ограничения в 65 тыс. точек по горизонтали, поэтому в такой формат можно сохранить далеко не каждое
        изображение древа. Векторный таких ограничений не имеет, поэтому в него можно сохранять сколь угодно большие деревья.
        Кроме того, векторный формат удобнее для целей последующей обработки в графических редакторах и подготовки к печати.
        Следует учитывать, что векторный формат "emf" не доступен в версиях программы для Linux, FreeBSD и MacOS (только для Windows).
    </p>

    <p>При просмотре диаграммы древа возможны следующие режимы навигации и управления:</p>
    <ul>
        <li>вертикальная прокрутка изображения при помощи скроллинга мышки;</li>
        <li>горизонтальная прокрутка изображения при помощи скроллинга мышки + удерживание на клавиатуре клавиши [<kbd>Shift</kbd>];</li>
        <li>масштабирование изображения при помощи скроллинга мышки + удерживание на клавиатуре клавиши [<kbd>Ctrl</kbd>];</li>
        <li>масштабирование изображения при помощи элемента шкалы в верхнем правом углу окна;</li>
        <li>клавиша [<kbd>F4</kbd>] выполняет сворачивание или разворачивание ветви выбранного человека;</li>
        <li>клавиша [<kbd>F5</kbd>] выполняет полное обновление всего изображения древа;</li>
        <li>клавиша [<kbd>F6</kbd>] устанавливает текущую выделенную персону как точку отсчета и выполняет полное обновление отображаемых предков и потомков относительно новой персоны;</li>
        <li>клавиша [<kbd>F7</kbd>] выполняет полный пересчет степеней родства (если включено их отображение) относительно текущей выделенной;</li>
        <li>двойной клик по персоне древа открывает режим редактирования;</li>
        <li>одинарный клик выполняет автоматическое плавное центрирование на выбранной персоне;</li>
        <li>произвольное перетаскивание изображения мышкой при нажатой правой клавише;</li>
        <li>
            клик на символе <img src="../help/images/iExpand.gif" alt=""> ("есть невидимые дополнительные данные") приводит к перестройке древа относительно этой персоны
            (данный символ не выводится при сохранении древа в файл);
        </li>
    </ul>

    <p>
        Количество отображаемых поколений (потомков или предков) может быть или без ограничений или от 1 до 9, и регулируется кнопкой с
        выпадающим меню на панели инструментов окна диаграммы.
    </p>

    <p>
        Цвета карточек персон настраиваются в разделе настроек (кнопка на панели инструментов окна диаграмм или меню Сервис\Настройки).
        Также для каждой персоны можно для специфических нужд установить отдельный цвет (всплывающее меню по нажатию правой клавиши мышки на карточке персоны).
        В некоторых случаях, карточки персон могут быть показаны серым цветом (не настраивается) - это означает, что данная персона ранее уже была выведена в древе в другой ветви.
        Это случается, например, в случае редукции предков.
    </p>

    <p>
        В дереве возможно показывать не только имя, даты жизни, но ещё и однострочный небольшой комментарий. Для этого комментарий с типом "Заметка в дереве", необходимо ввести в закладке
        "Сноски" диалога редактирования <a href="gkhRec_Individual.html">персон</a> и включить в <a href="gkhOptions.html">настройках</a> опцию "Показывать специальные заметки".
    </p>

    <p>
        В диаграмме деревьев имеется функция сворачивания ветвей. Нужно кликнуть на линии, ведущей от персоны к ветви. Очень близко к персоне.
        Тогда персона сама останется, а ветвь свернется и там появится маленький желтый треугольник - индикатор свернутой ветви.
    </p>

    <p>Также существует способ фильтрации содержимого древа (кнопка <img src="../help/images/iFilter.gif" alt="">).</p>

    <p>
        Кнопки <img src="../help/images/iLeft1.gif" alt=""> и <img src="../help/images/iRight1.gif" alt=""> позволяют
        выполнять дополнительную навигацию по древу: если при работе с древом использовалась клавиша [ F6 ] или символ
        <img src="../help/images/iExpand.gif" alt=""> - смена персоны как центральной для древа,
        эти кнопки позволят вернуться к предыдущей или к следующей.
    </p>

    <p>По нажатию кнопки <img src="../help/images/iTools.gif" alt=""> доступны дополнительные настройки дерева:</p>
    <ul>
        <li>Всё - для заданной персоны отображаются как предки, так и потомки;</li>
        <li>Только предки - ограничивает древо только предками выбранной персоны;</li>
        <li>Только потомки - ограничивает древо только потомками выбранной персоны;</li>
        <li>Автосмена центра - включает или выключает режим плавного сдвига центра отображаемого древа на персону, по которой кликнули мышкой;</li>
        <li>Индекс достоверности - включает или выключает режим отображения индекса достоверности для каждой персоны в древе (удобно для наглядной оценки проработанности информации);</li>
        <li>Цвет фона - позволяет выбрать цвет фона для текущего древа;</li>
        <li>Изображение фона - позволяет задать изображение фона для текущего древа;</li>
    </ul>

    <p>Другие горячие клавиши:</p>
    <ul>
        <li>клавиша [<kbd>Ctrl + F</kbd>] выполняет быстрый поиск персон по имен;</li>
        <li>клавиша [<kbd>Ctrl + S</kbd>] выполняет сохранение текущей базы данных;</li>
    </ul>

    <hr>
    <p>
        В случае, если в настройках дерева задано отображение "Дополнительные символы" и при редактировании персон использовались специализированные пользовательские "Сноски/пометки" -
        в древе, справа от карточек персон будут отображаться символы/индикаторы. Доступные в настоящее время символы включают: обозначения для основных религий (католицизм, православие,
        старообрядчество, ислам), обозначение кавалеров наград Российской Империи, обозначение воинов и погибших в Великую Отечественную, обозначение для тружеников тыла, репрессированных
        и членов РСДРП/ВКП(б)/КПСС.
    </p>

    <hr>
    <p>По нажатию правой клавиши мышки на произвольной персоне доступны дополнительные функции:</p>
    <ul>
        <li>Редактировать - вызвать диалог редактирования персоны;</li>
        <li>
            Добавить отца - добавляет персоне отца, если семья родителей не определена - она создается и присваивается автоматически;
            если семья родителей существует, отца можно добавить только если он еще задан;
        </li>
        <li>Добавить мать - аналогично добавляет мать;</li>
        <li>
            Добавить семью - добавляет данной персоне семью с неопределенным (неизвестным) супругом - это полезно при обработке источников;
            например, когда имеется запись "женат третьим браком" и есть имя третьей жены, но неизвестны имена первых двух - необходимо дважды
            сделать операцию "Добавить семью", после чего вызвать функцию "Добавить супруга(у)"; важно: если включена опция "Скрывать неизвестных супругов",
            добавляемые семьи с неопределенными супругами могут не отобразиться на экране;
        </li>
        <li>Добавить супруга(у) - добавляет новую семью с запросом на присоединение существующей или создание новой персональной записи супруга;</li>
        <li>
            Добавить сына - добавляет сына персоне, автоматически - если имеется только одна семья; если семьи нет - она также добавляется автоматически с неизвестным супругом;
            если у данной персоны несколько браков и соответственно несколько семей - будет предупреждение, что эту функцию нужно вызвать на одном из супругов для точной определенности,
            кто является родителями добавляемого ребенка;
        </li>
        <li>Добавить дочь - аналогично добавляет дочь;</li>
        <li>Удалить - удаляет текущую персону (внимание: персону, которая является центральной для текущего представления диаграммы удалить нельзя);</li>
        <li>Перейти к записи человека - выполняет переключение на главное окно программы и позиционирование на запись выбранного человека;</li>
        <li>
            Перейти к основной ветви - необходимо в том случае, если вызвано на "серой" персоне - т.е. на дубликате, который уже присутствует на диаграмме в другой ветви;
            находит и выполняет переход на карточку человека в первоочередной ветви;
        </li>
        <li>Открыть в новом окне - создает дополнительное окно диаграммы дерева с выбранной персоной в качестве центральной;</li>
        <li>
            Объединить дубликаты записей - необходимо в случае, если в базе данных есть отдельная другая запись того же человека; полезно для объединения дубликатов,
            образующихся на различных этапах обработки источников;
        </li>
        <li>Перестроить дерево - обновляет диаграмму с использованием выбранной персоны в качестве центральной;</li>
        <li>
            Перестроить отношения - перестраивает диаграмму с расчетом типа родственных отношений в случае, если включена соответствующая опция в настройках
            (отображать родственные связи);
        </li>
        <li>Задать цвет - полезно в том случае, если для каких-либо целей необходимо выделить определенных людей из общего числа.</li>
    </ul>

    <hr>
    <p>Доступны следующие возможности фильтрации древа:</p>
    <dl>
        <dt>По границе лет</dt>
        <dd>
            При работе с большими деревьями, от 500-1000 человек бывает полезно через опции выключить детей в разных ветвях, которые умерли малолетними и не оставили потомства.
            Это общий случай, которого бывает недостаточно для повышения эффективности исследования. Поэтому есть этот фильтр по году.
            Смысл следующий - будут отфильтрованы и попадут в древо все ветви, потомки которых родились после указанного года. Это способ убрать из изображения все
            пресекшиеся или оборванные ветви и оставить только самые длинные. Например, если выбрать какого-то предка, который жил в 17-м веке, и установить год в 1900-й -
            то на древе останутся только те ветви, которые дошли до этого времени.
        </dd>

        <dt>По заданным лицам</dt>
        <dd>
            Это способ получить упрощенное древо для одного-двух и более лиц, если необходимо наглядно отобразить их взаимосвязь. Т.е. при построении древа от какого-то предка
            и установке в этом фильтре одного или нескольких потомков - на древе будут отображены <i>только</i> цепочки людей, объединяющих предка с выбранными потомками.
        </dd>

        <dt>Дополнительно - по источникам</dt>
        <dd>Позволяет упростить работу с древом при обработке какого-то источника. В древе останутся только те персоны, у которых указаны ссылки на указанный источник.</dd>
    </dl>

    <hr>
    <p>Также смотрите: <a href="gkhOptions.html">Настройки</a>.</p>

</body>
</html>
